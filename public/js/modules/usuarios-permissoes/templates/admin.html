<!-- admin.html - M√ìDULO SPA (SEM <html>, <head>, <body>) -->
<section class="modulo-painel-admin">
  <div class="painel-admin">

    <!-- ==================== ABAS SUPERIORES ==================== -->
    <div class="abas-container">
      <button class="aba-btn ativa" data-aba="aba-usuarios">üë• Usu√°rios</button>
      <button class="aba-btn" data-aba="aba-perfis">üõ°Ô∏è Perfis de Acesso</button>
      <button class="aba-btn" data-aba="aba-permissoes">üîë Permiss√µes</button>
      <button class="aba-btn" data-aba="aba-auditoria">üìä Auditoria</button>
    </div>

    <!-- ==================== ABA: USU√ÅRIOS ==================== -->
    <div class="aba-conteudo aba-usuarios ativa">

      <div class="admin-header-actions">
        <h2>Gerenciar Usu√°rios</h2>
        <button class="btn btn-primary" id="btnNovoUsuario">
          <i class="fi fi-rr-plus"></i> Novo Usu√°rio
        </button>
      </div>

      <div class="search-bar">
        <input type="text" id="searchUser" placeholder="üîç Buscar usu√°rio por nome, email ou perfil..." />
      </div>

      <div class="card">
        <table class="users-table">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Email</th>
              <th>Perfil</th>
              <th>Status</th>
              <th>Criado em</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="usersTableBody">
            <!-- Preenchido via JS -->
          </tbody>
        </table>
      </div>

    </div>

    <!-- ==================== ABA: PERFIS DE ACESSO ==================== -->
    <div class="aba-conteudo aba-perfis">

      <div class="admin-header-actions">
        <h2>Perfis de Acesso</h2>
        <p class="subtitle">Configure as permiss√µes para cada perfil de usu√°rio</p>
      </div>

      <div class="roles-grid" id="rolesGrid">
        <!-- Preenchido via JS -->
      </div>

    </div>

    <!-- ==================== ABA: PERMISS√ïES ==================== -->
    <div class="aba-conteudo aba-permissoes">

      <div class="admin-header-actions">
        <h2>Matriz de Permiss√µes</h2>
        <p class="subtitle">Visualiza√ß√£o completa de todas as permiss√µes do sistema</p>
      </div>

      <div class="permissions-matrix" id="permissionsMatrix">
        <!-- Preenchido via JS -->
      </div>

    </div>

    <!-- ==================== ABA: AUDITORIA ==================== -->
    <div class="aba-conteudo aba-auditoria">

      <div class="admin-header-actions">
        <h2>Logs de Auditoria</h2>
        <p class="subtitle">Hist√≥rico de a√ß√µes no sistema</p>
      </div>

      <div class="card">
        <div class="audit-filters">
          <select id="auditType">
            <option>Todas as a√ß√µes</option>
            <option>Login/Logout</option>
            <option>Cria√ß√£o de usu√°rio</option>
            <option>Altera√ß√£o de permiss√µes</option>
          </select>
          <input type="date" id="auditDate">
          <button class="btn btn-secondary">Filtrar</button>
        </div>

        <div class="audit-log">
          <p style="text-align: center; color: #999; padding: 40px;">
            üìã Funcionalidade de auditoria em desenvolvimento.<br>
            Em breve voc√™ poder√° visualizar todos os logs de a√ß√µes do sistema.
          </p>
        </div>
      </div>

    </div>

  </div>

  <!-- ==================== MODAL: CRIAR/EDITAR USU√ÅRIO ==================== -->
  <div class="modal-overlay" id="userModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Novo Usu√°rio</h3>
        <button class="close-btn" id="btnCloseUserModal">&times;</button>
      </div>

      <form id="userForm">
        <div class="form-grid">

          <div class="campo">
            <label>Nome completo *</label>
            <input type="text" id="userName" required>
          </div>

          <div class="campo">
            <label>Email *</label>
            <input type="email" id="userEmail" required>
          </div>

          <div class="campo">
            <label>Usu√°rio (login) *</label>
            <input type="text" id="userUsername" required>
          </div>

          <div class="campo">
            <label>Fun√ß√£o *</label>
            <input type="text" id="userPassword" required>
          </div>

          <div class="campo">
            <label>Perfil de acesso *</label>
            <select id="userRole" required>
              <option value="">Selecione...</option>
              <option value="ATENDENTE">Atendente</option>
              <option value="COPYRIGHT">Copyright</option>
              <option value="CONTEUDO">Conte√∫do</option>
              <option value="SUPERVISOR">Supervisor</option>
              <option value="GERENTE">Gerente</option>
              <option value="CEO">CEO</option>
            </select>
          </div>

          <div class="campo">
            <label>Status</label>
            <select id="userActive">
              <option value="true">Ativo</option>
              <option value="true">Pendente</option>
              <option value="false">Inativo</option>
            </select>
          </div>

        </div>

        <div class="custom-permissions">
          <h4>Permiss√µes Customizadas (Opcional)</h4>
          <p class="hint">Adicione permiss√µes al√©m do perfil padr√£o</p>
          <div id="customPermissionsCheckboxes" class="permissions-checkboxes">
            <!-- Preenchido via JS -->
          </div>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" id="btnCancelUser">Cancelar</button>
          <button type="submit" class="btn btn-primary">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ==================== MODAL: EDITAR PERFIL ==================== -->
  <div class="modal-overlay" id="roleModal">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h3 id="roleModalTitle">Editar Perfil</h3>
        <button class="close-btn" id="btnCloseRoleModal">&times;</button>
      </div>

      <div class="role-info">
        <h4 id="roleInfoName"></h4>
        <p id="roleInfoDesc"></p>
      </div>

      <form id="roleForm">
        <div class="permissions-editor">
          <h4>Permiss√µes do Perfil</h4>
          <p class="hint">Marque as permiss√µes que este perfil deve ter</p>
          <div id="rolePermissionsCheckboxes" class="permissions-checkboxes">
            <!-- Preenchido via JS -->
          </div>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" id="btnCancelRole">Cancelar</button>
          <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts necess√°rios -->
  <script src="/functions/modulos/admin.js"></script>
</section>